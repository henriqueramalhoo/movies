<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisar Filmes</title>
    <style>
        /* (mesmo estilo que tu tens, mantido para consistência) */
    </style>
</head>
<body>
    <h2>Pesquisar Filmes</h2>
    <p>Digite o nome do filme que deseja assistir</p>

    <label for="pesquisa">Pesquisar:</label>
    <input type="text" id="pesquisa" placeholder="Digite o nome do filme">
    <button onclick="pesquisar()">Buscar</button><br>

    <div id="resultado"></div>
    
    <button class="back-button" onclick="window.history.back()">Voltar</button>

    <script>
        const apiKey = 'SUA_CHAVE_API_DO_TMDB';  // Substitui com a tua chave da TMDb
        const baseUrl = 'https://api.themoviedb.org/3/search/movie';  // URL da API para pesquisa de filmes

        async function pesquisar() {
            const pesquisa = document.getElementById("pesquisa").value.trim();
            const resultado = document.getElementById("resultado");
            resultado.innerHTML = "";  // Limpar resultados anteriores

            if (pesquisa === "") {
                resultado.innerHTML = "<p>Digite o nome de um filme para pesquisar.</p>";
                return;
            }

            try {
                // Fazendo a requisição à API do TMDb
                const response = await fetch(`${baseUrl}?api_key=${apiKey}&query=${pesquisa}&language=pt-BR`);
                const data = await response.json();
                
                if (data.results.length > 0) {
                    // Exibindo os resultados encontrados
                    data.results.forEach(filme => {
                        const filmeNome = filme.title;
                        const filmeID = filme.id;
                        const filmePoster = filme.poster_path ? `https://image.tmdb.org/t/p/w500/${filme.poster_path}` : '';

                        resultado.innerHTML += `
                            <div>
                                <img src="${filmePoster}" alt="${filmeNome}" width="100" />
                                <p>Filme: ${filmeNome} - 
                                    <a href="serversfilmes.html?filme=${filmeID}">Assistir</a>
                                </p>
                            </div>
                        `;
                    });
                } else {
                    resultado.innerHTML = "<p>Nenhum filme encontrado.</p>";
                }
            } catch (error) {
                console.error("Erro ao buscar filmes:", error);
                resultado.innerHTML = "<p>Ocorreu um erro ao buscar filmes. Tente novamente.</p>";
            }
        }
    </script>
</body>
</html>